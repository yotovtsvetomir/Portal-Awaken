webpackJsonp([13],{"2RYv":function(t){t.exports={posst_wrapper:"posst_wrapper__3LCSq",posst:"posst__2Kmux",posst_meta:"posst_meta__1264t",meta:"meta__XI7bz",posst_decor:"posst_decor__LHqAj",posst_head:"posst_head__29tNH",posst_title:"posst_title__1MQHj",posst_content:"posst_content__hnnRu",posst_image:"posst_image__3nRYo",posst_actions:"posst_actions__3vzYA",nc_actions:"nc_actions__1ojT4",social:"social__SsgMd",sc_button:"sc_button__Key0n",ca:"ca__3kk33",ca_button:"ca_button__11on6",comments:"comments__sKEFc",addcomment:"addcomment__GCOQn",cp_image:"cp_image__1_5Om",ac:"ac__3RIQl",ac_holder:"ac_holder__a_qNs",ac_actions:"ac_actions__EQ_du",posst_realcontent:"posst_realcontent__2tDk3",sidebar:"sidebar__1wMVt"}},RonP:function(t,e,s){"use strict";function n(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(){var t=event.target.parentElement;null==t&&(t=event.target.parentElement.parentElement),t.style.display="none"}function i(){var t=event.target.parentElement.children[1],e=event.target.parentElement.parentElement.previousSibling.children[1].children[0];10!=t.innerHTML.length&&(t=event.target.children[1]),null==t&&(t=event.target.nextSibling,e=event.target.parentElement.parentElement.parentElement.previousSibling.children[1].children[0]),null==t&&(t=event.target,e=event.target.parentElement.parentElement.parentElement.previousSibling.children[1].children[0]),fetch("https://www.portal.allawaken.com/api/postlike",{method:"post",body:e.innerHTML}).then(function(e){return e.text().then(function(e){if("liked"==e){var s=parseInt(t.innerHTML)+1;t.innerHTML=s}else{var s=parseInt(t.innerHTML)-1;t.innerHTML=s}})})}function r(){var t=event.target.parentElement.parentElement.nextSibling;null==t&&(t=event.target.parentElement.parentElement.parentElement.nextSibling),t.style.display="none"==t.style.display?"block":"none"}function c(){var t=event.target.parentElement.parentElement.parentElement.previousSibling.previousSibling;null==t&&(t=event.target.parentElement.parentElement.parentElement.parentElement.previousSibling.previousSibling),t=t.children[1].children[0].innerHTML;var e=event.target.parentElement.previousSibling;null==e&&(e=event.target.parentElement.parentElement.previousSibling),""!==e.children[1].children[0].value&&fetch("https://www.portal.allawaken.com/api/addcomment",{method:"post",body:t+"//"+e.children[1].children[0].value}),e.children[1].children[0].value=""}Object.defineProperty(e,"__esModule",{value:!0});var p=s("KM04"),l=(s.n(p),s("2RYv")),m=s.n(l),h=s("rH6Z"),d=(s("TGCi"),s("lZYv")),b=s("UD6h"),u=s.n(b),g=s("lC4N"),_=s.n(g),v=s("/PU8"),f=Object(p.h)("meta",{property:"og:type",content:"article"}),O=Object(p.h)("meta",{name:"twitter:card",content:"summary"}),j=Object(p.h)("meta",{name:"twitter:site",content:"@All_Awaken"}),y=Object(p.h)("meta",{name:"twitter:creator",content:"@All_Awaken"}),w=Object(p.h)("i",{className:"material-icons"},"update"),E=Object(p.h)("i",{className:"material-icons"},"comment"),k=Object(p.h)("i",{className:"material-icons"},"thumb_up"),N=Object(p.h)("h2",null,"Comments"),S=Object(p.h)("input",{id:"inpc",placeholder:"Add comment ... "}),M=Object(p.h)(d.a,{lid:"https://www.portal.allawaken.com/api/topblops"});e.default=function(t){function e(e){var s=n(this,t.call(this,e));return s.state={element:[],somse:[]},s.deletecomment=s.deletecomment.bind(s),s}return o(e,t),e.prototype.triggerFoo=function(){c(event),this.foo.setState({foo:!0})},e.prototype.deletecomment=function(t){var e=t.target.closest("div").parentElement.parentElement.children[2].children[0].innerHTML,s=t.target.closest("div").parentElement.previousSibling.children[0].innerHTML;fetch("https://www.portal.allawaken.com/api/deletecomment",{method:"post",body:e+"//"+s}),this.foo.setState({foo:!0})},e.prototype.componentDidMount=function(){var t=this;fetch("https://www.portal.allawaken.com/api/isimage",{method:"get"}).then(function(t){return t.json()}).then(function(e){return t.setState({element:e})}),fetch("https://www.portal.allawaken.com/api/post/"+this.props.tid,{method:"get"}).then(function(t){return t.json()}).then(function(e){return t.setState({somse:e})}),this.foo.setState({foo:!0});var e=document.getElementById("mcont");e.addEventListener("click",function(t){if(t.preventDefault(),"a"===t.target.tagName.toLowerCase()){var e=t.target.href.split("post/")[1],s="https://"+e;console.log(s),window.open(s,"_blank")}}),this.myElement.addEventListener("DOMSubtreeModified",function(){for(var t=e.getElementsByTagName("iframe"),s=0;s<t.length;s++){var n=e.getElementsByTagName("iframe")[s];n.src="https://"+n.src.split("post/")[1]}for(var s=(e.getElementsByTagName("img"),0);s<e.getElementsByTagName("img").length;s++)e.getElementsByTagName("img")[s].src="https://"+e.getElementsByTagName("img")[s].src.split("post/")[1]}),document.getElementById("inpc").addEventListener("keyup",function(t){t.preventDefault(),13===t.keyCode&&(console.log("I Work"),document.getElementById("commmm").click())})},e.prototype.render=function(){var t=this;this.props.comments=this.state.somse.cc,this.props.imge=this.state.somse.imgUrl,this.props.likes=this.state.somse.likes,this.props.title=this.state.somse.title,this.props.content=this.state.somse.content,this.props.ccontent=this.state.somse.ccontent,this.props.postby=this.state.somse.postby,this.props.poston=this.state.somse.poston,this.props.profa="https://www.portal.allawaken.com/profile/"+this.state.somse.postby,this.props.profimg=this.state.somse.profimg,this.props.desc=this.state.somse.description,this.props.color="#1e88e5",this.props.liink="https://www.portal.allawaken.com/post/"+this.state.somse.title;var e={"@context":"https://schema.org","@type":"BlogPosting",mainEntityOfPage:{"@type":"WebPage","@id":""+this.props.liink},author:""+this.props.postby,datePublished:""+this.props.poston,dateModified:""+this.props.poston,headline:""+this.props.title,articleSection:""+this.props.desc,backstory:"Revealing the truth",articleBody:""+this.props.ccontent,about:""+this.props.desc,keywords:"How the world works, Economics, Politics, Media, Education",commentCount:""+this.props.comments,image:{"@type":"imageObject",url:""+this.props.imge},publisher:{"@type":"Organization",name:"All Awaken",logo:{"@type":"imageObject",url:"https://res.cloudinary.com/awaken/image/upload/f_auto/v1549100793/portal/logo.webp"}}};return Object(p.h)("div",{className:"shell"},Object(p.h)(u.a,null,Object(p.h)("title",null,this.props.title),Object(p.h)("meta",{name:"description",content:this.props.desc}),Object(p.h)("meta",{property:"og:description",content:this.props.desc}),Object(p.h)("meta",{property:"og:title",content:this.props.title}),f,Object(p.h)("meta",{property:"og:url",content:this.props.liink}),Object(p.h)("meta",{property:"og:image",content:this.props.imge}),O,j,y,Object(p.h)("meta",{name:"twitter:title",content:this.props.title}),Object(p.h)("meta",{name:"twitter:description",content:this.props.desc}),Object(p.h)("meta",{name:"twitter:image",content:this.props.imge}),Object(p.h)(v.a,{data:e})),Object(p.h)("div",{className:m.a.posst_wrapper},Object(p.h)("div",{className:m.a.posst},Object(p.h)("div",{className:m.a.posst_meta},Object(p.h)("div",{className:m.a.meta},Object(p.h)("img",{src:this.props.profimg,alt:"Image for post author: "+this.props.postby}),Object(p.h)("a",{target:"_blank",href:this.props.profa},this.props.postby)),Object(p.h)("div",{className:m.a.meta},Object(p.h)("div",{className:m.a.posst_decor,style:{background:""+this.props.color}})),Object(p.h)("div",{className:m.a.meta},w,Object(p.h)("p",null,this.props.poston))),Object(p.h)("div",{className:m.a.posst_head},Object(p.h)("img",{className:m.a.posst_image,src:this.props.imge,alt:"Image for post: "+this.props.title}),Object(p.h)("div",{className:m.a.posst_content},Object(p.h)("h2",{className:m.a.posst_title},this.props.title),Object(p.h)("div",{id:"mcont",className:m.a.posst_realcontent,dangerouslySetInnerHTML:{__html:this.props.content},ref:function(e){return t.myElement=e}}),Object(p.h)("p",null,this.props.ccontent))),Object(p.h)("div",{className:m.a.posst_actions},Object(p.h)("div",{className:m.a.social},Object(p.h)(_.a,{compact:!0,socialMedia:"facebook",url:""+this.props.liink.replace(/ /g,"-")}),Object(p.h)(_.a,{compact:!0,socialMedia:"twitter",url:""+this.props.liink.replace(/ /g,"-"),text:""+this.props.liink.replace(/ /g,"-")})),Object(p.h)("div",{className:m.a.ca},Object(p.h)("div",{className:m.a.ca_button,onClick:r,style:{background:""+this.props.color}},E,Object(p.h)("p",null,this.props.comments)),Object(p.h)("div",{className:m.a.ca_button,onClick:i,style:{background:""+this.props.color}},k,Object(p.h)("p",null,this.props.likes)))),Object(p.h)("div",{id:"comments",className:m.a.comments},N,Object(p.h)("div",{className:m.a.addcomment},Object(p.h)("div",{className:m.a.ac},Object(p.h)("img",{className:m.a.cp_image,src:this.state.element.imageUrl,alt:"My profile image"}),Object(p.h)("div",{className:m.a.ac_holder,id:"ac"},S)),Object(p.h)("div",{className:m.a.ac_actions},Object(p.h)("div",{id:"commmm",onClick:this.triggerFoo.bind(this),className:m.a.ca_button,style:{background:""+this.props.color}},"Comment"))),Object(p.h)(h.a,{ref:function(e){return t.foo=e},del:this.deletecomment,title:this.props.tid,imggg:this.state.element.imageUrl}),Object(p.h)("div",{className:m.a.ca_button,onClick:a,style:{background:""+this.props.color}},"Hide comments"))),Object(p.h)("div",{className:m.a.sidebar},M)))},e}(p.Component)}});