webpackJsonp([10],{GmNw:function(e){e.exports={ps:"ps__1OAwO",ps_form:"ps_form__2Jm9_",ps_holder:"ps_holder__15F2G",ps_action:"ps_action__2dtdc",button_save:"button_save__3_l2j",ps_pictures_wrapper:"ps_pictures_wrapper__1l_W-",ps_pictures:"ps_pictures__1GDDX",imin:"imin__3HlFH",ps_smallpic:"ps_smallpic__3rDgc",ps_smpic:"ps_smpic__DJGEd",ps_bigpic:"ps_bigpic__1jV0_",ps_bgpic:"ps_bgpic__1R0MA",ps_password_wrapper:"ps_password_wrapper__CSE2x",ps_password:"ps_password__3bM79",last_holder:"last_holder__1Bolt",button_cp:"button_cp__3Rh6w"}},gzkd:function(e,t,a){"use strict";function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(){var e=document.getElementById("nname"),t=document.getElementById("ssubtitle"),a=document.getElementById("causes"),s=document.getElementById("interests"),l=document.getElementById("profession"),o=document.getElementById("aboutme");""==e.value&&(e.value=e.placeholder),""==t.value&&(t.value=t.placeholder),""==a.value&&(a.value=a.placeholder),""==s.value&&(s.value=s.placeholder),""==l.value&&(l.value=l.placeholder),""==o.value&&(o.value=o.placeholder),fetch("https://www.portal.allawaken.com/api/setprofile",{method:"post",body:e.value+"//"+t.value+"//"+a.value+"//"+s.value+"//"+l.value+"//"+o.value}).then(function(e){return e.text().then(function(){window.location.assign("https://www.portal.allawaken.com/myprofile")})})}function n(){var e=document.getElementById("sprofimg"),t=document.getElementById("in1").files[0],a=new FileReader;if(a.addEventListener("load",function(){e.src=a.result},!1),t&&a.readAsDataURL(t),t.size>=3e5)return alert("The Maximum Image size is 300kb, please upload smaller image."),!1;var s=new FormData;s.append("upload_preset","awaken"),s.append("tags","browser_upload"),s.append("file",t),fetch("https://api.cloudinary.com/v1_1/awaken/upload",{method:"post",body:s}).then(function(e){return e.json().then(function(e){var t=e.secure_url,a=e.public_id;fetch("https://www.portal.allawaken.com/api/setprofimage",{method:"post",body:t+"///"+a}),window.location.assign("https://www.portal.allawaken.com/myprofile")})})}function r(){var e=document.getElementById("sbackimg"),t=document.getElementById("in2").files[0],a=new FileReader;if(a.addEventListener("load",function(){e.src=a.result},!1),t&&a.readAsDataURL(t),t.size>=3e5)return alert("The Maximum Image size is 300kb, please upload smaller image."),!1;var s=new FormData;s.append("upload_preset","awaken"),s.append("tags","browser_upload"),s.append("file",t),fetch("https://api.cloudinary.com/v1_1/awaken/upload",{method:"post",body:s}).then(function(e){return e.json().then(function(e){var t=e.secure_url,a=e.public_id;fetch("https://www.portal.allawaken.com/api/setbackimage",{method:"post",body:t+"///"+a}),window.location.assign("https://www.portal.allawaken.com/myprofile")})})}function p(){var e=document.getElementById("password"),t=document.getElementById("lbl_password"),a=document.getElementById("new_password"),s=document.getElementById("lbl_new_password"),l=document.getElementById("rep_password"),o=document.getElementById("passbutton");""==e.value?(e.style.borderColor="#e53935",t.innerHTML="Password can't be empty.",t.style.color="#e53935"):""==a.value?(a.style.borderColor="#e53935",s.innerHTML="New Password can't be empty.",s.style.color="#e53935"):a.value!==l.value?(a.style.borderColor="#e53935",s.innerHTML="Passwords don't match.",s.style.color="#e53935"):0==function(e){return/^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*#?&])[A-Za-z\d@$!%*#?&]{8,}$/.test(e)}(a.value)?(a.style.borderColor="#e53935",s.innerHTML="The new password must be at least 8 characters, containing 1 number and 1 special character.",s.style.color="#e53935"):fetch("https://www.portal.allawaken.com/api/changepassword",{method:"post",body:e.value+"///"+a.value}).then(function(t){return t.text().then(function(t){"ok"==t?(o.style.background="#43a047",o.innerHTML="Password changed successfully!",e.value="",a.value="",l.value=""):o.innerHTML="Password is not correct."})})}Object.defineProperty(t,"__esModule",{value:!0}),a.d(t,"default",function(){return J});var c=a("KM04"),i=(a.n(c),a("GmNw")),d=a.n(i),u=(a("TGCi"),a("/QC5")),m=a("pbXG"),b=a("upel"),h=Object(c.h)(b.a,null),_=Object(c.h)(m.a,null),w=Object(c.h)("h2",null,"Settings"),f=Object(c.h)("label",{id:"lbl_mail",for:"email"},"Email Address"),y=Object(c.h)("input",{id:"mail",type:"email",disabled:!0}),v=Object(c.h)("label",{id:"lbl_name",for:"name"},"Display Name"),g=Object(c.h)("input",{id:"nname",type:"name"}),j=Object(c.h)("label",{id:"lbl_subtitle",for:"subtitle"},"Display Subtitle"),O=Object(c.h)("input",{id:"ssubtitle",type:"email"}),N=Object(c.h)("label",{id:"lbl_causes",for:"causes"},"Causes"),E=Object(c.h)("input",{id:"causes",type:"text"}),I=Object(c.h)("label",{id:"lbl_interests",for:"interests"},"Interests"),k=Object(c.h)("input",{id:"interests",type:"text"}),B=Object(c.h)("label",{id:"lbl_profession",for:"profession"},"Profession"),C=Object(c.h)("input",{id:"profession",type:"text"}),x=Object(c.h)("label",{id:"lbl_about",for:"about"},"About me"),M=Object(c.h)("input",{id:"aboutme",type:"text"}),P=Object(c.h)("h2",null,"Pictures"),D=Object(c.h)(u.a,null,Object(c.h)("p",null,"Change profile image")),T=Object(c.h)(u.a,null,Object(c.h)("p",null,"Change background image")),L=Object(c.h)("h2",null,"Password"),A=Object(c.h)("input",{id:"username",autocomplete:"username",type:"text",style:"display: none"}),H=Object(c.h)("label",{id:"lbl_password",for:"password"},"Current password"),R=Object(c.h)("input",{id:"password",autocomplete:"current-password",type:"password"}),z=Object(c.h)("label",{id:"lbl_new_password",for:"new_password"},"New password"),G=Object(c.h)("input",{id:"new_password",autocomplete:"new-password",type:"password"}),F=Object(c.h)("label",{id:"lbl_rep_password",for:"rep_password"},"Repeat new password"),S=Object(c.h)("input",{id:"rep_password",autocomplete:"new-password",type:"password"}),J=function(e){function t(){return s(this,e.apply(this,arguments))}return l(t,e),t.prototype.componentDidMount=function(){fetch("https://www.portal.allawaken.com/api/myprofile",{method:"get"}).then(function(e){return e.text().then(function(e){var t=JSON.parse(e),a=document.getElementById("sprofimg"),s=document.getElementById("sbackimg"),l=document.getElementById("mail"),o=document.getElementById("nname"),n=document.getElementById("ssubtitle"),r=document.getElementById("causes"),p=document.getElementById("interests"),c=document.getElementById("profession"),i=document.getElementById("aboutme");a.src=t.profileimg,s.src=t.backimg,l.value=t.email,o.placeholder=t.name,n.placeholder=t.subtitle,r.placeholder=t.causes,p.placeholder=t.interests,c.placeholder=t.profession,i.placeholder=t.aboutme})})},t.prototype.render=function(){return Object(c.h)("div",{className:"shell"},Object(c.h)("div",{className:"profile"},h,Object(c.h)("div",{className:"profile_body"},_,Object(c.h)("div",{className:"profile_content"},Object(c.h)("div",{id:"ps",className:d.a.ps},w,Object(c.h)("div",{className:d.a.ps_form_wrapper},Object(c.h)("div",{className:d.a.ps_form},Object(c.h)("div",{className:d.a.ps_holder},f,y),Object(c.h)("div",{className:d.a.ps_holder},v,g),Object(c.h)("div",{className:d.a.ps_holder},j,O),Object(c.h)("div",{className:d.a.ps_holder},N,E),Object(c.h)("div",{className:d.a.ps_holder},I,k),Object(c.h)("div",{className:d.a.ps_holder},B,C),Object(c.h)("div",{className:d.a.ps_holder},x,M)),Object(c.h)("div",{className:d.a.ps_action},Object(c.h)(u.a,{onClick:o,className:d.a.button_save},"Save"))),Object(c.h)("div",{className:d.a.ps_pictures_wrapper},P,Object(c.h)("div",{className:d.a.ps_pictures},Object(c.h)("div",{className:d.a.ps_smallpic},Object(c.h)("img",{id:"sprofimg",className:d.a.ps_smpic,alt:"Image placeholder"}),Object(c.h)("input",{id:"in1",onChange:n,className:d.a.imin,type:"file"}),D),Object(c.h)("div",{className:d.a.ps_bigpic},Object(c.h)("img",{id:"sbackimg",className:d.a.ps_bgpic,alt:"Image placeholder"}),Object(c.h)("input",{id:"in2",onChange:r,className:d.a.imin,type:"file"}),T))),Object(c.h)("div",{className:d.a.ps_password_wrapper},L,Object(c.h)("form",{className:d.a.ps_password},A,Object(c.h)("div",{className:d.a.ps_holder},H,R),Object(c.h)("div",{className:d.a.ps_holder},z,G),Object(c.h)("div",{className:d.a.ps_holder},F,S),Object(c.h)("div",{className:d.a.last_holder},Object(c.h)(u.a,{id:"passbutton",onClick:p,className:d.a.button_cp},"Change Password")))))))))},t}(c.Component)}});